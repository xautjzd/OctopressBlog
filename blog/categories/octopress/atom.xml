<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | Xautjzd]]></title>
  <link href="http://bebety.com/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://bebety.com/"/>
  <updated>2014-05-21T11:09:16+08:00</updated>
  <id>http://bebety.com/</id>
  <author>
    <name><![CDATA[xautjzd]]></name>
    <email><![CDATA[xautjzd@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[随时随地用Octopress写博客]]></title>
    <link href="http://bebety.com/blog/2014/04/01/clone-your-cotopress-to-different-places/"/>
    <updated>2014-04-01T11:00:00+08:00</updated>
    <id>http://bebety.com/blog/2014/04/01/clone-your-cotopress-to-different-places</id>
    <content type="html"><![CDATA[<p><img src="/images/20140401octopress.jpg"></p>

<p><a href="http://octopress.org/">Octopress</a>所依赖的环境是Ruby和Git,所以要使用它写博客，必须先确保目标机器上已经安装Ruby和Git。有时候可能需要在新的环境中创作，那么得进行以下的一些操作了。在讲操作前先简要介绍下Octopress如何工作。</p>

<h2>Octopress是怎么工作的?</h2>

<p>Octopress默认有两个分支，即master和source。source分支主要存储用于生成博客的源文件，而master分支则主要包含生成后的博客。master分支存储在_deploy文件夹中，之所以以下划线命名，是因为在执行<code>git push origin source</code>时，下划线开头的文件夹会被忽略掉。</p>

<p>当然，也可以创建自己的分支，但master分支一般主要用于存储生成后的博客，而博客源文件则可以自己新建分支存储。我目前在原有的基础上新建了newtheme分支，用于更改主题后的博客源码存储，以前的源码存储在source分支。</p>

<h2>创建本地Octopress库</h2>

<p>在新环境中写作时，需要进行以下几个步骤：</p>

<!-- more -->


<h3>克隆博客到新机器</h3>

<p>首先，需要克隆source分支到新机器上:</p>

<p><code>
$ git clone -b source git@github.com:username/usename.github.com.git Octopress
</code></p>

<h3>设置GitHub Repository</h3>

<p>克隆source到本地后，默认没有<em>deploy目录，所以还需要创建</em>deploy，进行git init操作，同时也要设置remote respository。这几个步骤可以通过手动完成，但作为使用者，当然是操作越简单越好，能够自动化完成就自动化。这里Octopress提供了一个自动化完成这几个步骤的脚本，执行它即可。</p>

<p><code>
$ rake setup_github_pages
</code>
在出现的提示符后输入自己对应的remote repository即可。</p>

<p>以上操作即可完成remote repository的设置，另一种方法是直接克隆master分支到本地：</p>

<p><code>
$ cd Octopress
$ git clone git@github.com:username/username.github.com.git _deploy
</code></p>

<p>接下来就是安心写作的时刻了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[更新Octopress]]></title>
    <link href="http://bebety.com/blog/2013/09/17/update-my-blog/"/>
    <updated>2013-09-17T15:22:00+08:00</updated>
    <id>http://bebety.com/blog/2013/09/17/update-my-blog</id>
    <content type="html"><![CDATA[<p>现在已记不清接触Octopress多长时间了，只依稀记得当时配置Octopress配了好久，然后依然失败，后又忙于其他的事情，所以搭建工作便搁置一旁，七月中旬时间比较充足，所以又开始再次折腾，后来终于搭建成功，所以7.18便发表了第一篇博客。后来一个月之后又开始了我的换肤工作，一切都好，唯一的缺陷是Gravatar的图像没有显示出来，所以便向theme的作者发问，后来也忘了这茬事。就这样又过了一月，直到今天，突然发现我的unread消息里面有几条关于我的message，便打开浏览，才发现作者给的回复，说图像没显示是个bug，现已修复。具体见：</p>

<p><a href="https://github.com/shashankmehta/greyshade/issues/42">https://github.com/shashankmehta/greyshade/issues/42</a></p>

<p>我便立马更新了我的Octopress。更新方法如下：</p>

<pre><code># Get the latest Octopress
git pull octopress master    
# Keep gems updated
bundle install               
# update the template's source
rake update_source            
</code></pre>

<p>具体参考：</p>

<p><a href="http://octopress.org/docs/updating/">http://octopress.org/docs/updating/</a></p>

<p>参考时请务必注意：如果您的octopress主题不是octopress默认主题,请不要执行<code>rake update_style</code>，否则会被还原成默认主题。</p>

<p>本博客采用的主题为：</p>

<p><a href="https://github.com/shashankmehta/greyshade">https://github.com/shashankmehta/greyshade</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[更换Octopress主题]]></title>
    <link href="http://bebety.com/blog/2013/08/17/change-theme-of-blog/"/>
    <updated>2013-08-17T22:56:00+08:00</updated>
    <id>http://bebety.com/blog/2013/08/17/change-theme-of-blog</id>
    <content type="html"><![CDATA[<p>Octopress博客搭建已经有一阵了，但一直采用的默认的主题，没时间更换。今天特意抽时间来更换下，先上<a href="http://octopress.org/docs/theme/">Octopress官网</a>了解了下更换Theme的原理，然后上Octopress所在的源码托管平台GitHub，在其<a href="https://github.com/imathis/octopress/wiki">Wiki</a>上找到了<a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">第三方Themes</a>,便从前到后大致将各种themes都预览了一遍，最后选择了<a href="https://github.com/shashankmehta/greyshade">Greyshade主题</a>,安装方法官网写的已经非常详细，这里再啰嗦一遍：</p>

<h3>Install</h3>

<p><code>
$ cd octopress  #octopress directory
$ git clone git@github.com:shashankmehta/greyshade.git .themes/greyshade
$ echo "\$greyshade: color;" &gt;&gt; sass/custom/_colors.scss //Substitue 'color' with your highlight color
$ rake "install[greyshade]"
$ rake generate
</code>
至此，安装过程便已完成。</p>

<p>左侧的显示效果主要配置在_config.yml文件中。</p>

<h3>pages显示</h3>

<p>Octopress默认只有Homepage和Archives两个导航菜单，不满足要求，我便又添加了"编程"、“Linux”、“所思所想”和“关于我”这几个。“关于我”的页面为静态页面，在source/blog/aboutme/下，其他的几个需要将相关的文章显示在相应的导航菜单下，便需做如下配置：</p>

<h2>```html source/thinking/index.markdown</h2>

<p>layout: category_index
title: Thinking</p>

<h2>category: Thinking</h2>

<p>```
这样后，只要new_post并且category为Thinking的页面都会集中在所思所想对应的页面显示。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress添加disqus评论到侧边栏]]></title>
    <link href="http://bebety.com/blog/2013/07/30/add-comments-to-sidebar/"/>
    <updated>2013-07-30T10:47:00+08:00</updated>
    <id>http://bebety.com/blog/2013/07/30/add-comments-to-sidebar</id>
    <content type="html"><![CDATA[<h2>新建comments.html文件</h2>

<p>添加评论到侧边栏与添加关于、文章分类和友情链接相似，需要在source/_includes/custom/asides/目录下添加comments.html模块，名字根据自己的喜好可以换成其他的，如xxx.html，然后在comments.html里添加如下内容：</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>source/_includes/custom/asides/comments.html </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;section</span> <span class="na">id=</span><span class="s">&quot;comment_sidebar&quot;</span><span class="nt">&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;pre&gt;&lt;code&gt;</span><span class="ni">&amp;lt;</span>h1<span class="ni">&amp;gt;</span>近期评论<span class="ni">&amp;lt;</span>/h1<span class="ni">&amp;gt;</span>
</span><span class='line'>
</span><span class='line'><span class="ni">&amp;lt;</span>script type=&quot;text/javascript&quot; src=&quot;http://zhengdongjiang.disqus.com/recent_comments_widget.js?num_items=5<span class="ni">&amp;amp;</span>hide_avatars=0<span class="ni">&amp;amp;</span>avatar_size=32<span class="ni">&amp;amp;</span>excerpt_length=20&quot;<span class="ni">&amp;gt;&amp;lt;</span>/script<span class="ni">&amp;gt;&amp;lt;</span>a href=&quot;http://disqus.com/&quot;<span class="ni">&amp;gt;</span>Powered by Disqus<span class="ni">&amp;lt;</span>/a<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;/section&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>其中zhengdongjiang为我disqus对应此网站的shortname，这就不要照搬了，换成你对应的名字即可。</p>

<h2>修改_config.yml文件</h2>

<pre><code><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>\_config.yml </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">default_asides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">custom/asides/category_list.html</span><span class="p-Indicator">,</span> <span class="nv">asides/recent_posts.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/comments.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/friend_sites.html</span><span class="p-Indicator">,</span> <span class="nv">asides/pinboard.html</span><span class="p-Indicator">]</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Each layout uses the default asides, but they can have their own asides instead. Simply uncomment the lines below</span>
</span><span class='line'><span class="c1"># and add an array with the asides you want to use.</span>
</span><span class='line'><span class="l-Scalar-Plain">blog_index_asides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">custom/asides/about.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/category_list.html</span><span class="p-Indicator">,</span> <span class="nv">asides/recent_posts.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/comments.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/friend_sites.html</span><span class="p-Indicator">,</span> <span class="nv">asides/pinboard.html</span><span class="p-Indicator">]</span>
</span><span class='line'><span class="l-Scalar-Plain">post_asides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">custom/asides/about.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/category_list.html</span><span class="p-Indicator">,</span> <span class="nv">asides/recent_posts.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/comments.html</span><span class="p-Indicator">,</span> <span class="nv">custom/asides/friend_sites.html</span><span class="p-Indicator">,</span> <span class="nv">asides/pinboard.html</span><span class="p-Indicator">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ocpress添加友情链接]]></title>
    <link href="http://bebety.com/blog/2013/07/27/octopress-add-frend-sites/"/>
    <updated>2013-07-27T16:02:00+08:00</updated>
    <id>http://bebety.com/blog/2013/07/27/octopress-add-frend-sites</id>
    <content type="html"><![CDATA[<p>与在侧边栏添加Aboutme、Categories、Tagcloud等功能类似，在source/_include\custom\asides目录下添加一个frendsites.html文件，模仿about等写法，添加友情链接，如下所示：</p>

<pre><code><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>友情链接 </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="ni">&amp;lt;</span>section<span class="ni">&amp;gt;</span>
</span><span class='line'>    <span class="ni">&amp;lt;</span>h1<span class="ni">&amp;gt;</span>友情链接<span class="ni">&amp;lt;</span>/h1<span class="ni">&amp;gt;</span>
</span><span class='line'>    <span class="ni">&amp;lt;</span>ul<span class="ni">&amp;gt;</span>
</span><span class='line'>        <span class="ni">&amp;lt;</span>li<span class="ni">&amp;gt;&amp;lt;</span>a href=&quot;url_to_add&quot;<span class="ni">&amp;gt;</span>友情链接的显示Id<span class="ni">&amp;lt;</span>/a<span class="ni">&amp;gt;&amp;lt;</span>/li<span class="ni">&amp;gt;</span>
</span><span class='line'>        ...
</span><span class='line'>    <span class="ni">&amp;lt;</span>/ul<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>/section<span class="ni">&amp;gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</code></pre>

<p>然后在_config.yml文件中相应的位置添加，如在default_asides中的数组添加custom/asides/friendsites.html，当然也可以在blog_index等其他数组中添加。</p>
]]></content>
  </entry>
  
</feed>
